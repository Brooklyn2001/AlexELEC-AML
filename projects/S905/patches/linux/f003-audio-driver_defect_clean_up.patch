From a0a524287b21fe24ad005c76f9af2f20fbd0a256 Mon Sep 17 00:00:00 2001
From: Xing Wang <xing.wang@amlogic.com>
Date: Mon, 4 Dec 2017 11:33:04 +0800
Subject: [PATCH] PD#150466: audio: driver defect clean up

#73

Change-Id: Icae41b6516eba42c228b51d30887dc675c77b828
Signed-off-by: Xing Wang <xing.wang@amlogic.com>
---
 drivers/amlogic/amaudio/amaudio.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/amlogic/amaudio/amaudio.c b/drivers/amlogic/amaudio/amaudio.c
index 553f4601288..eac5e17046d 100644
--- a/drivers/amlogic/amaudio/amaudio.c
+++ b/drivers/amlogic/amaudio/amaudio.c
@@ -317,11 +317,11 @@ static ssize_t record_type_store(struct class *class,
 static ssize_t record_type_show(struct class *class,
 				struct class_attribute *attr, char *buf)
 {
-	if (audioin_mode & I2SIN_MASTER_MODE) {	/* mic */
+	if (audioin_mode == I2SIN_MASTER_MODE) {	/* mic */
 		return sprintf(buf, "i2s in master mode for built in mic\n");
-	} else if (audioin_mode & SPDIFIN_MODE) {	/* spdif in mode */
+	} else if (audioin_mode == SPDIFIN_MODE) {	/* spdif in mode */
 		return sprintf(buf, "spdif in mode\n");
-	} else if (audioin_mode & I2SIN_SLAVE_MODE) {	/* i2s in slave */
+	} else if (audioin_mode == I2SIN_SLAVE_MODE) {	/* i2s in slave */
 		return sprintf(buf, "i2s in slave mode\n");
 	} else {
 		return sprintf(buf, "audioin_mode can't match mode\n");
